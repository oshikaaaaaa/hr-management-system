{% extends "./base_edit.html" %}

{% block title %}Edit Positions - HR Management System{% endblock %}
{% block content %}

        <div class="header">
            <h1>Edit Employee</h1>
        </div>

        <div class="alert alert-info">
            Editing employee: {{ employee.first_name }} {{ employee.last_name }}
        </div>

        <form action="/employees/{{ employee.employee_id }}/edit" method="POST">
            <div class="form-group">
                <label for="first_name">First Name</label>
                <input type="text" id="first_name" name="first_name" value="{{ employee.first_name }}" required>
            </div>

            <div class="form-group">
                <label for="last_name">Last Name</label>
                <input type="text" id="last_name" name="last_name" value="{{ employee.last_name }}" required>
            </div>

            <div class="form-group">
                <label for="date_of_birth">Date of Birth</label>
                <input type="date" id="date_of_birth" name="date_of_birth" value="{{ employee.date_of_birth.strftime('%Y-%m-%d') }}" required>
            </div>

            <div class="form-group">
                <label for="gender">Gender</label>
                <select id="gender" name="gender" required>
                    <option value="Male" {% if employee.gender == "Male" %}selected{% endif %}>Male</option>
                    <option value="Female" {% if employee.gender == "Female" %}selected{% endif %}>Female</option>
                    <option value="Other" {% if employee.gender == "Other" %}selected{% endif %}>Other</option>
                </select>
            </div>

            <div class="form-group">
                <label for="hire_date">Hire Date</label>
                <input type="date" id="hire_date" name="hire_date" value="{{ employee.hire_date.strftime('%Y-%m-%d') }}" required>
            </div>

            <div class="form-group">
                <label for="department_id">Department ID</label>
                <input type="number" id="department_id" name="department_id" value="{{ employee.department_id }}" required>
            </div>

            <div class="form-group">
                <label for="position_id">Position ID</label>
                <input type="number" id="position_id" name="position_id" value="{{ employee.position_id }}" required>
            </div>

            <div class="form-group">
                <label for="position_type">Position Type</label>
                <select id="position_type" name="position_type" required>
                    <option value="Full" {% if employee.position_type == "Full" %}selected{% endif %}>Full Time</option>
                    <option value="Part" {% if employee.position_type == "Part" %}selected{% endif %}>Part Time</option>
                </select>
            </div>

            <div class="form-group">
                <label for="salary">Salary</label>
                <input type="number" id="salary" name="salary" step="0.01" value="{{ employee.salary }}" required>
            </div>

            <div class="form-group">
                <label for="employment_status">Employment Status</label>
                <select id="employment_status" name="employment_status" required>
                    <option value="Active" {% if employee.employment_status == "Active" %}selected{% endif %}>Active</option>
                    <option value="Resigned" {% if employee.employment_status == "Resigned" %}selected{% endif %}>Resigned</option>
                    <option value="Terminated" {% if employee.employment_status == "Terminated" %}selected{% endif %}>Terminated</option>
                    <option value="On_Leave" {% if employee.employment_status == "On_Leave" %}selected{% endif %}>On Leave</option>
                    <option value="Absent" {% if employee.employment_status == "Absent" %}selected{% endif %}>Absent</option>
                </select>
            </div>

            <div class="form-actions">
                <a href="/employees" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
        </form>
{% endblock %}
